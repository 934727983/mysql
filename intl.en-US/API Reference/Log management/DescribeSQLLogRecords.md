# DescribeSQLLogRecords {#doc_api_1091128 .reference}

You can call this operation to query the SQL audit logs of an RDS instance.

This operation is applicable to the following instances:

-   MySQL 5.5
-   MySQL 5.6
-   MySQL 5.7 High-availability Edition \(based on local SSDs\)
-   SQL Server 2008 R2
-   PostgreSQL
-   PPAS

## Debugging {#apiExplorer .section}

You can use [API Explorer](https://api.aliyun.com/#product=Rds&api=DescribeSQLLogRecords) to perform debugging.

API Explorer provides various functions to simplify API usage. For example, you can search APIs, call APIs, and generate SDK sample code.

## Request parameters {#parameters .section}

|Parameter|Type|Required|Example|Description|
|---------|----|--------|-------|-----------|
|Action|String|Yes|DescribeSQLLogRecords| The operation that you want to perform. Set the value to **DescribeSQLLogRecords**.

 |
|DBInstanceId|String|Yes|rm-uf6wjk5xxxxxxx| The ID of the instance.

 |
|StartTime|String|Yes|2011-06-01T15:00:00Z| The start time of the query. Format: *yyyy-MM-dd*T*HH:mm:ss*Z.

 |
|EndTime|String|Yes|2011-06-11T15:00:00Z| The end time of the query. It must be later than the start time. The time span between the start time and the end time must be less than 31 days. Format: *yyyy-MM-dd*T*HH:mm:ss*Z.

 |
|ClientToken|String|No|ETnLKlblzczshOTUbOCzxxxxxxx| The token used to ensure that requests are idempotent and prevent from submitting the same request multiple times. The value of this parameter is generated by the client and is unique among requests. It has maximum length of 64 ASCII characters, and can contain only ASCII characters.

 |
|SQLId|Long|No|25623548| The unique ID of the SQL statement.

 |
|QueryKeywords|String|No|rds| The keywords used for query. Separate multiple keywords with spaces. Up to 10 keywords can be entered in a single request.

 |
|Database|String|No|Database| The name of the database. All databases are selected by default.

 |
|User|String|No|user| The name of the user. All users are selected by default.

 |
|Form|String|No|Stream| Used to generate audit files or return the list of SQL records. Valid values:

 -   **File**: Use this value to generate audit files. Only common parameters are returned, so you need to call the [DescribeSQLLogFiles](~~26295~~) operation to obtain the download link of audit files.
-   **Stream**: The list of SQL records is returned. This is the default value.

 |
|PageSize|Integer|No|30| The number of records on each page. Valid values:

 -   **30**.
-   **50**.
-   **100**.

 Default value: **30**.

 |
|PageNumber|Integer|No|1| The page number. It must be greater than 0 and cannot exceed the maximum value of the Integer data type.

 Default value: **1**.

 |
|AccessKeyId|String|No|LTAIfCxxxxxxx| The AccessKey ID issued by Alibaba Cloud for users to access services.

 |

## Response parameters {#resultMapping .section}

|Parameter|Type|Example|Description|
|---------|----|-------|-----------|
|TotalRecordCount|Long|100| The total number of records.

 |
|PageNumber|Integer|1| The page number.

 |
|PageRecordCount|Integer|30| The number of SQL audit logs on the current page.

 |
|Items| | | The list of SQL audit logs.

 |
|└DBName|String|testDB| The name of the database.

 |
|└AccountName|String|accounttest| The account used to perform operations.

 |
|└HostAddress|String|192.168.0.121| The IP address of the client used to connect to the database.

 |
|└SQLText|String|update test.zxb set id=0 limit 1| The SQL statement.

 |
|└TotalExecutionTimes|Long|600| The total execution time. Unit: microsecond.

 |
|└ReturnRowCounts|Long|30| The number of returned records.

 |
|└ThreadID|String|1025865428| The ID of the thread.

 |
|└ExecuteTime|String|2011-06-11T15:00:23Z| The execution time.

 |
|RequestId|String|08A3B71B-FE08-4B03-974F-CC7EA6DB1828| The ID of the request.

 |

## Examples {#demo .section}

Request example

``` {#request_demo}

http(s)://rds.aliyuncs.com/?Action=DescribeSQLLogRecords
&DBInstanceId=rm-uf6wjk5xxxxxx
&StartTime=2011-06-01T15:00:00Z
&EndTime=2011-06-11T15:00:00Z
&<Common request parameters>
```

Normal response example

`XML` format

``` {#xml_return_success_demo}
<DescribeSQLLogRecordsResponse> 
  <PageNumber>1</PageNumber> 
  <TotalRecordCounts>1</TotalRecordCounts> 
  <ItemsCounts>1</ItemsCounts> 
  <SQLItems>
    <SQLItem>
      <DBName>test</DBName> 
      <AccountName>accounttest</AccountName>
      <HostAddress>192.168.0.121</HostAddress>
      <SQLText>update test.zxb set id=0 limit 1</SQLText>
      <TotalExecutionTimes>12</TotalExecutionTimes>
      <ReturnRowCounts>34</ReturnRowCounts> 
      <ExecuteTime>2011-06-11T15:00:23Z</ExecuteTime>
    </SQLItem>
  </SQLItems>
  <RequestId>08A3B71B-FE08-4B03-974F-CC7EA6DB1828</RequestId> 
</DescribeSQLLogRecordsResponse> 

```

`JSON` format

``` {#json_return_success_demo}
{
	"PageNumber":1,
	"RequestId":"08A3B71B-FE08-4B03-974F-CC7EA6DB1828",
	"TotalRecordCounts":1,
	"SQLItems":{
		"SQLItem":[
			{
				"ReturnRowCounts":34,
				"TotalExecutionTimes":12,
				"HostAddress":"192.168.0.121",
				"ExecuteTime":"2011-06-11T15:00:23Z",
				"SQLText":"update test.zxb set id=0 limit 1",
				"AccountName":"accounttest",
				"DBName":"test"
			}
		]
	},
	"ItemsCounts":1
}
```

## Error codes {#section_me2_myv_6uk .section}

[View error codes](https://error-center.alibabacloud.com/status/product/Rds)

