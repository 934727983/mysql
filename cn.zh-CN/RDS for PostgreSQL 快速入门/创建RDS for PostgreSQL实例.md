# 创建RDS for PostgreSQL实例 {#concept_kzn_qcg_wdb .concept}

您可以通过阿里云RDS管理控制台或API创建RDS实例。关于如何通过API创建实例，请参见[创建RDS实例](../cn.zh-CN/API参考/实例管理/CreateDBInstance.md#)。关于实例计费说明，请参见[计费方式](../cn.zh-CN/云数据库RDS价格/计费方式与收费项.md#)。

本文将介绍在RDS管理控制台上创建实例的步骤，除了旧版的创建实例，您也可以体验新版创建实例。操作详情请参见：

-   [创建PostgreSQL 11高可用版（云盘）/PostgreSQL 10高可用版（云盘）](#section_572_r7a_19w)
-   [创建PostgreSQL 10高可用版（本地盘）/PostgreSQL 10基础版/PostgreSQL 9.4（旧版）](#section_nk5_5cg_wdb)
-   [创建PostgreSQL 10高可用版（本地盘）/PostgreSQL 10基础版/PostgreSQL 9.4（新版）](#section_ox6_06h_u3v)

## 前提条件 {#section_vqd_tcg_wdb .section}

-   已注册阿里云账号。
-   若您要创建按量付费的实例，请确保您的账户余额大于等于100元。

## 注意事项 {#section_kmf_kkp_mgb .section}

-   包年包月实例无法转为按量付费实例。
-   按量付费实例可以转为包年包月实例，请参见[按量付费转包年包月](../cn.zh-CN/RDS for PostgreSQL 用户指南/计费管理/按量付费转包年包月.md#)。
-   同一个主账号，最多可以创建30个按量付费的RDS实例。如需提高此限额，请[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex)申请。
-   如果要创建PostgreSQL 10高可用版（本地盘）、PostgreSQL 10基础版和PostgreSQL 9.4，请使用[RDS控制台](https://rds.console.aliyun.com/?spm=5176.doc43185.2.7.mR2Syx)。
-   如果要创建PostgreSQL 11高可用版（云盘）、PostgreSQL 10高可用版（云盘），请使用[新版PostgreSQL控制台](https://postgresql.console.aliyun.com/)。

## 创建PostgreSQL 11高可用版（云盘）/PostgreSQL 10高可用版（云盘） {#section_572_r7a_19w .section}

1.  进入[新版PstgreSQL实例创建](https://common-buy.aliyun.com/?productCode=postgresql&chargeType=prepay&#/buy)页面。
2.  选择**包年包月**或**按量付费**。

    **说明：** 关于计费方式的选择，请参见[计费方式](../cn.zh-CN/云数据库RDS价格/计费方式与收费项.md#)。

3.  选择实例配置，参数说明如下。

    |参数|说明|
    |--|--|
    |地域|实例所在的地理位置。购买后无法更换地域。     -   请根据目标用户所在的地理位置就近选择地域，提升用户访问速度。
    -   请确保RDS实例与需要连接的ECS实例创建于同一个地域，否则它们无法通过内网互通，只能通过外网互通，无法发挥最佳性能。
 |
    |系列|高可用版：一个主节点和一个备节点，经典高可用架构。 关于各个系列的详细介绍，请参见[产品系列概述](../cn.zh-CN/云数据库RDS简介/产品系列/产品系列概述.md)。

 |
    |主可用区|实例的主可用区。     -   可用区是地域中的一个独立物理区域，不同可用区之间没有实质性区别。
    -   您可以选择将RDS实例与ECS创建在同一可用区或不同可用区。
    -   您只需要选择主可用区，系统会自动选择备可用区。
 |
    |数据库类型|数据库引擎的类型，仅支持PostgreSQL。|
    |数据库版本号|指PostgreSQL的版本。新版PostgreSQL控制台支持的版本包括PostgreSQL 11、PostgreSQL 10。|
    |数据库规格|每种规格都有对应的CPU核数、内存、最大连接数和最大IOPS。具体请参见[实例规格表](../cn.zh-CN/云数据库RDS简介/实例规格/实例规格表.md#)。 RDS实例有以下规格族：

     -   通用型（包括测试型和入门型）：独享被分配的内存和I/O资源，与同一服务器上的其他通用型实例共享CPU和存储资源。
    -   独享型：独享被分配的CPU、内存、存储和I/O资源。
    -   独占物理机型：是独享型的顶配，独占整台服务器的CPU、内存、存储和I/O资源。
 例如，**4核16GB**是通用型实例规格，**8核32GB（独享套餐）**是独享型实例规格，**30核220GB（独占主机）**是独占物理机型实例规格。

 |
    |网络类型|仅支持专有网络，也称为VPC（Virtual Private Cloud）。VPC是一种隔离的网络环境，安全性和性能均高于传统的经典网络。 **说明：** 请确保RDS实例与需要连接的ECS实例网络类型一致，否则它们无法通过内网互通。

 |
    |专有网络（VPC） 交换机（VSwitch）

 |     -   如果您已创建符合您网络规划的VPC，直接选择该VPC和交换机。
    -   如果您未创建符合您网络规划的VPC，您可以使用默认VPC和交换机。
 |
    |存储类型|SSD云盘或ESSD云盘。更多信息，请参见[存储类型](../cn.zh-CN/云数据库RDS简介/存储类型.md)。|
    |存储空间|该存储空间包括数据空间、系统文件空间、Binlog文件空间和事务文件空间。|
    |数据加密|可以选择不加密或者使用[KMS加密](https://help.aliyun.com/document_detail/108805.html)。当前仅中国（香港）、华东2（上海）地域提供，其他地域逐步开放。|

4.  设置购买时长（仅针对包年包月实例）和实例数量，然后单击右侧的**立即购买**。
5.  在订单确认页面，勾选服务条款，单击**去开通**完成支付。

## 创建PostgreSQL 10高可用版（本地盘）/PostgreSQL 10基础版/PostgreSQL 9.4（旧版） {#section_nk5_5cg_wdb .section}

1.  进入[RDS实例创建](https://rds-buy.aliyun.com/?#/create/rds)页面。
2.  选择**包年包月**或**按量付费**。关于计费方式的选择，请参见[计费方式](../cn.zh-CN/云数据库RDS价格/计费方式与收费项.md#)。
3.  选择实例配置，参数说明如下。

    |参数|说明|
    |--|--|
    |地域|实例所在的地理位置。购买后无法更换地域。     -   请根据目标用户所在的地理位置就近选择地域，提升用户访问速度。
    -   请确保RDS实例与需要连接的ECS实例创建于同一个地域，否则它们无法通过内网互通，只能通过外网互通，无法发挥最佳性能。
 |
    |资源组|实例所属的资源组。|
    |数据库类型| 即数据库引擎的类型，这里选择**PostgreSQL**。

 **说明：** 不同地域支持的数据库类型不同，请以实际界面为准。

 |
    |版本|指PostgreSQL的版本。RDS控制台支持的版本包括PostgreSQL 9.4、10。 **说明：** 不同地域所支持的版本不同，请以实际界面为准。

 |
    |系列|     -   基础版：单节点，计算与存储分离，性价比高。
    -   高可用版：一个主节点和一个备节点，经典高可用架构。
 关于各个系列的详细介绍，请参见[产品系列概述](../cn.zh-CN/云数据库RDS简介/产品系列/产品系列概述.md)。 不同数据库版本支持的系列不同，请以实际界面为准。

 |
    |存储类型|     -   **本地SSD盘**：与数据库引擎位于同一节点的SSD盘。将数据存储于本地SSD盘，可以降低I/O延时。
    -   **SSD云盘**：基于分布式存储架构的弹性块存储设备。将数据存储于SSD云盘，即实现了计算与存储分离。
 更多信息，请参见[存储类型](../cn.zh-CN/云数据库RDS简介/存储类型.md)。

 |
    |可用区| 可用区是地域中的一个独立物理区域，不同可用区之间没有实质性区别。您可以选择将RDS实例的主备节点创建在同一可用区或不同可用区。

 相比单可用区，多可用区能提供可用区级别的容灾。

 |
    |网络类型|     -   经典网络：传统的网络类型。
    -   专有网络（推荐）：也称为VPC（Virtual Private Cloud）。VPC是一种隔离的网络环境，安全性和性能均高于传统的经典网络。

**说明：** 请确保RDS实例与需要连接的ECS实例网络类型一致，否则它们无法通过内网互通。

 |
    |规格|每种规格都有对应的CPU核数、内存、最大连接数和最大IOPS。具体请参见[实例规格表](../cn.zh-CN/云数据库RDS简介/实例规格/实例规格表.md#)。 RDS实例有以下规格族：

     -   通用型：独享被分配的内存和I/O资源，与同一服务器上的其他通用型实例共享CPU和存储资源。
    -   独享型：独享被分配的CPU、内存、存储和I/O资源。
    -   独占物理机型：是独享型的顶配，独占整台服务器的CPU、内存、存储和I/O资源。
 例如，**8核32GB**是通用型实例规格，**8核32GB（独享套餐）**是独享型实例规格，**30核220GB（独占主机）**是独占物理机型实例规格。

 |
    |存储空间|该存储空间包括数据空间、系统文件空间、Binlog文件空间和事务文件空间。|

4.  设置购买时长（仅针对包年包月实例）和实例数量，然后单击右侧的**立即购买**。

    **说明：** 

    -   购买包年包月实例时，可以勾选**自动续费**，系统将根据您的购买时长进行自动续费。例如，您购买3个月的实例并勾选**自动续费**，则每次自动续费时会缴纳3个月的费用。
    -   对于包年包月实例，您也可以单击**加入购物车**将实例加入到购物车中，最后单击**购物车**进行结算。
5.  在订单确认页面，勾选相关协议，根据提示完成支付。

## 创建PostgreSQL 10高可用版（本地盘）/PostgreSQL 10基础版/PostgreSQL 9.4（新版） {#section_ox6_06h_u3v .section}

1.  进入[新版RDS实例创建](https://rds-buy.aliyun.com/nextBuy/?#/create/rds/mysql)页面。

    **说明：** 您也可以在当前创建RDS实例页面上方单击**体验新版**切换到新版创建RDS实例页面。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7814/156592540952745_zh-CN.png)

2.  在左上角选择实例所在的地域，即实例所在的地理位置。

    **说明：** 

    -   购买后无法更换地域。
    -   请根据目标用户所在的地理位置就近选择地域，提升用户访问速度。
    -   请确保RDS实例与需要连接的ECS实例创建于同一个地域，否则它们无法通过内网互通，只能通过外网互通，无法发挥最佳性能。
    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7814/156592541052746_zh-CN.png)

3.  设置以下参数。

    |类别|参数|说明|
    |--|--|--|
    |**计费方式**|无|     -   **包年包月**：属于预付费，即在新建实例时需要支付费用。适合长期需求，价格比按量付费更实惠，且购买时长越长，折扣越多。
    -   **按量付费**：属于后付费，即按小时扣费。适合短期需求，用完可立即释放实例，节省费用。
 |
    |**数据库类型**|无|即数据库引擎的类型，这里选择**PostgreSQL数据库**。 **说明：** 不同地域支持的数据库类型不同，请以实际界面为准。

 |
    |**版本系列**|**版本**|指PostgreSQL的版本。当前支持PostgreSQL 9.4、10。|
    |**系列**|     -   **基础版**：单节点，计算与存储分离，性价比高。
    -   **高可用版**：一个主节点和一个备节点，经典高可用架构。
 **说明：** 不同数据库版本支持的系列不同，请以实际界面为准。关于各个系列的详细介绍，请参见[产品系列概述](../cn.zh-CN/云数据库RDS简介/产品系列/产品系列概述.md)。

 |
    |**部署形态**|**存储类型**|     -   **本地SSD盘**：与数据库引擎位于同一节点的SSD盘。将数据存储于本地SSD盘，可以降低I/O延时。
    -   **SSD云盘**：基于分布式存储架构的弹性块存储设备。将数据存储于SSD云盘，即实现了计算与存储分离。
 更多信息，请参见[存储类型](../cn.zh-CN/云数据库RDS简介/存储类型.md)。

 |
    |**主节点可用区**| 可用区是地域中的一个独立物理区域，不同可用区之间没有实质性区别。相比单可用区，多可用区能提供可用区级别的容灾。

 您只需要选择将RDS实例的主可用区，备可用区系统会自动选择。

 |
    |**实例规格**|**全部实例规格**|     -   **入门级**：通用型的实例规格，独享被分配的内存和I/O资源，与同一服务器上的其他通用型实例共享CPU和存储资源。
    -   **企业级**：独享或独占型的实例规格。独享型指独享被分配的CPU、内存、存储和I/O资源。独占型是独享型的顶配，独占整台服务器的CPU、内存、存储和I/O资源。
 每种规格都有对应的CPU核数、内存、最大连接数和最大IOPS。详情请参见[实例规格表](../cn.zh-CN/云数据库RDS简介/实例规格/实例规格表.md#)。

 |
    |**已购实例规格**|已购买的RDS规格列表，便于您快速选择实例规格。|
    |**存储**|**存储空间**|存储空间包括数据空间、系统文件空间、Binlog文件空间和事务文件空间。调整存储空间时最小单位为5GB。 **说明：** 本地SSD盘的独享套餐等规格由于资源独享的原因，存储空间大小和实例规格绑定。详情请参见[实例规格表](../cn.zh-CN/云数据库RDS简介/实例规格/实例规格表.md#)。

 |
    |**网络类型**|**经典网络**|传统的网络类型。 **说明：** 如果选择经典网络，请确保RDS实例与需要连接的ECS实例网络类型一致，否则它们无法通过内网互通。

 |
    |**专有网络**|也称为VPC（Virtual Private Cloud）。VPC是一种隔离的网络环境，安全性和性能均高于传统的经典网络。选择专有网络时您需要选择对应的**VPC**和**主节点交换机**。 **说明：** 如果选择专有网络，请确保RDS实例与需要连接的ECS实例网络类型一致，且VPC相同，否则它们无法通过内网互通。

 |
    |**资源组**|无|实例所属的资源组。|
    |**购买量**|**购买时长**|**计费方式**为**包年包月**时可见。选择实例的购买时长，并且可以选择是否**自动续费**。 **说明：** 勾选**自动续费**后，系统将根据您的购买时长进行自动续费。例如，您购买3个月的实例并勾选**自动续费**，则每次自动续费时会缴纳3个月的费用。

 |
    |**购买量**|选择实例的购买数量，每次最多购买30个实例。|

4.  检查当前配置，确认配置和费用。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7814/156592541052764_zh-CN.png)

5.  单击**确认订单**。

    **说明：** 对于包年包月实例，您也可以单击**加入购物车**将实例加入到购物车中，最后单击**购物车**进行结算。

6.  再次确认配置、购买量和费用，勾选服务协议，单击**去支付**完成支付。

    **说明：** 如果有优惠券，可以在本页面选择对应的优惠券。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7814/156592541052773_zh-CN.png)


## 下一步 {#section_msy_dgt_2fb .section}

在控制台左上角，选择实例所在的地域即可查看到刚刚创建的实例。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7846/156592541049667_zh-CN.png)

创建实例后，您需要[设置白名单](cn.zh-CN/RDS for PostgreSQL 快速入门/初始化配置/设置白名单.md)和[创建账号](cn.zh-CN/RDS for PostgreSQL 快速入门/初始化配置/创建账号和数据库.md)，如果是通过外网连接，还需要[申请外网地址](https://help.aliyun.com/document_detail/97738.html)。然后就可以[连接实例](cn.zh-CN/RDS for PostgreSQL 快速入门/连接实例.md)。

如果连接实例失败，请参见[为什么无法连接RDS？](https://help.aliyun.com/knowledge_detail/91236.html)

## 相关API {#section_etp_dbb_kgb .section}

|API|描述|
|---|--|
|[CreateDBInstance](../cn.zh-CN/API参考/实例管理/CreateDBInstance.md#)|创建RDS实例|

## 操作视频 {#section_dww_rwr_497 .section}

[RDS实例创建](https://help.aliyun.com/video_detail/54657.html)

