# 设置监控频率 {#concept_ug4_x5p_wdb .concept}

## 背景信息 {#section_uxl_cvp_wdb .section}

为方便您掌握实例的运行状态，RDS管理控制台提供了丰富的性能监控项。您可以通过RDS管理控制台设置监控频率，查看具体实例的监控数据，也可以创建监控视图，把同一账号下的多个同类型实例进行对比。

**2018年5月15日前RDS提供两种监控频率**

-   60秒/次，监控周期为30天。

-   300秒/次，监控周期为30天。


**2018年5月15日起推出秒级监控频率**

基于最低分钟级别的监控采集频率已无法满足客户和运维人员对数据库的监控需求。自2018年5月15日起RDS推出了更细粒度的监控采集频率——秒级监控频率，解决日常监控数据粒度过粗，无法定位运维问题的需求，同时提高客户满意度。

-   **秒级监控：5秒/次，监控周期为7天。7天后的数据退化成1分钟粒度**

-   详细的监控配置策略如下表所示。

    |实例类型|5秒/次|1分（60秒/次）|5分（300秒/次）|
    |----|----|---------|----------|
    |基础版|不支持|免费支持|默认配置|
    |高可用版、金融版：内存<8G|不支持|免费支持|默认配置|
    |高可用版、金融版：内存\>=8G|付费支持|默认配置|免费支持|


## 支持条件 {#section_t54_fvp_wdb .section}

-   满足以下条件的实例可设置秒级监控：

    -   实例位于这5个地域中：华东1、华东2、华北1、华北2、华南1。
    -   秒级监控仅支持RDS for MySQL。
    -   实例存储类型为本地SSD盘，且内存\>=8G。
-   所有RDS实例均支持60秒/次、300秒/次的监控频率设置。


## 操作步骤 {#section_vrd_hvp_wdb .section}

1.  登录[RDS管理控制台](https://rds.console.aliyun.com/)。
2.  在页面左上角，选择实例所在地域。
3.  找到目标实例，单击实例ID。
4.  在左侧导航栏中单击**监控与报警**。

    **说明：** 不同类型的数据库支持的监控项也不同，详情请参见文末的[监控项列表](#)

5.  选择**监控**标签页。
6.  单击**监控频率设置**。
7.  在弹出的监控频率设置对话框中，选择您需要的监控频率，本操作选则5秒/次的监控频率。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7952/15420985913104_zh-CN.png)

8.  单击确认打开确认更改对话框，单击**确认**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7952/15420985913105_zh-CN.png)

    若实例类型不支持秒级监控，在监控频率设置对话框中会给出提示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7952/15420985923106_zh-CN.png)

9.  在监控页面中，您还可以执行如下操作：

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7952/15420985923107_zh-CN.png)

    **图示说明：**

    |序号|说明|
    |--|--|
    |1|选择查看的监控类型。|
    |2|选择查看的监控周期。|
    |3|选择监控频率。|
    |4|刷新监控结果。|
    |5|显示监控结果。|
    |6|选择图表中显示的监控数据类型。|


## 监控项列表 {#section_mfg_4vp_wdb .section}

**RDS for MySQL**

|监控项|说明|
|---|--|
|磁盘空间|实例的磁盘空间使用量，包括：-   磁盘空间总体使用量；
-   数据空间使用量；
-   日志空间使用量；
-   临时文件空间使用量；
-   系统文件空间使用量；

单位：MByte。

|
|IOPS|实例的每秒I/O请求次数，单位：次/秒。|
|连接数|实例当前总连接数，包括活跃连接数和总连接数。|
|CPU内存利用率|实例的CPU和内存利用率（不含操作系统占用）。|
|网络流量|实例每秒钟的输入、输出流量，单位：KByte。|
|TPS/QPS|平均每秒事务数和平均每秒SQL语句执行次数。|
|InnoDB缓存读命中率、使用率、脏块率|InnoDB缓冲池的读命中率、利用率以及缓冲池脏块的百分率。|
|InnoDB读写量|InnoDB每秒读取和写入的数据量，单位：KByte。|
|InnoDB缓存请求次数|InnoDB每秒钟的读取和写入的次数。|
|InnoDB日志读/写/fsync|InnoDB每秒向日志文件的物理写入次数、日志写请求、向日志文件完成的fsync写数量。|
|临时表数量|数据库执行SQL语句时在硬盘上自动创建的临时表的数量。|
|MySQL\_COMDML|数据库每秒SQL语句执行次数，包括：-   Insert；
-   Delete；
-   Insert\_Select；
-   Replace；
-   Replace\_Select；
-   Select；
-   Update。

|
|ROWDML|InnoDB每秒钟操作执行次数，包括：-   每秒向日志文件的物理写次数；
-   每秒从 InnoDB 表读取、更新、删除、插入的行数。

|
|MyISAM读写次数|MyISAM每秒从缓冲池中的读、写次数和每秒钟从硬盘上的读、写次数。|
|MyISAM Key Buffer 读/写/利用率|MyISAM每秒的Key Buffer读命中率、写命中率、利用率。|

**RDS for SQL Server**

|监控项|说明|
|---|--|
|磁盘空间|实例的磁盘空间使用量，包括：-   磁盘空间总体使用量；
-   数据空间使用量；
-   日志空间使用量；
-   临时文件空间使用量；
-   系统文件空间使用量；

单位：MByte。

|
|IOPS|实例的每秒I/O请求次数。单位：次/秒。|
|连接数|实例当前总连接数。|
|CPU利用率|实例的CPU利用率（含操作系统占用）。|
|网络流量|实例每秒钟的输入、输出流量，单位：KByte。|
|TPS|每秒钟事务处理数。|
|QPS|每秒钟SQL语句执行次数。|
|缓存命中率|缓存池的读命中率。|
|每秒检查点写入Page数|实例中每秒检查点写入Page数。|
|每秒登录次数|实例中每秒登录次数。|
|平均每秒全表扫描数|每秒全表扫描次数。|
|每秒SQL编译|实例中每秒编译的SQL语句数。|
|每秒锁超时次数|实例中每秒锁超时次数。|
|每秒死锁次数|实例中每秒锁定次数。|
|每秒锁等待次数|实例中每秒锁等待次数。|

**RDS for PostgreSQL**

|监控项|说明|
|---|--|
|磁盘空间|实例的磁盘空间使用量，单位：MByte。|
|IOPS|实例的数据盘每秒I/O请求次数和日志盘每秒I/O请求次数，单位：次/秒。|
|内存利用率|实例的内存利用率。|
|CPU利用率|实例的CPU利用率。|
|当前总连接数|实例当前总连接数。|

**RDS for PPAS**

|监控项|说明|
|---|--|
|磁盘空间|实例的磁盘空间使用量，单位：MByte。|
|IOPS|实例的数据盘每秒I/O请求次数和日志盘每秒I/O请求次数，单位：次/秒。|
|内存利用率|实例的内存利用率。|
|CPU利用率|实例的CPU利用率。|
|当前总连接数|实例当前总连接数。|

## 常见问题 {#section_z12_vvp_wdb .section}

-   [MySQL CPU使用率高的原因和解决方法](https://help.aliyun.com/document_detail/51587.html)

-   [MySQL 实例空间使用率过高的原因和解决方法](https://help.aliyun.com/document_detail/51682.html)

-   [MySQL IOPS使用率高的原因和解决方法](https://help.aliyun.com/document_detail/51807.html)

-   [MySQL实际内存分配情况](https://help.aliyun.com/document_detail/51799.html)


