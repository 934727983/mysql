# 备份 RDS 数据 {#concept_l1m_xgn_ydb .concept}

您可以通过设置备份策略调整RDS数据备份和日志备份的周期来实现自动备份，也可以手动备份RDS数据。

## 注意事项 {#section_jyb_zgx_wfb .section}

-   实例备份文件占用备份空间，空间使用量超出免费的额度将会产生额外的费用，请合理设计备份周期，以满足业务需求的同时，兼顾备份空间的合理利用。关于免费额度详情，请参见[查看备份空间免费额度](intl.zh-CN/用户指南/备份数据/查看备份空间免费额度.md#)。
-   关于具体的计费方式与收费项，请参见[计费方式与收费项](../../../../../intl.zh-CN/云数据库RDS价格/计费方式与收费项.md#)。
-   关于备份空间使用量的计费标准，请参见[云数据库 RDS 详细价格信息](https://www.alibabacloud.com/product/apsaradb-for-rds#pricing)。
-   备份期间不要执行DDL操作，避免锁表导致备份失败。
-   尽量选择业务低峰期进行备份。
-   若数据量较大，花费的时间可能较长，请耐心等待。
-   备份文件有保留时间，请及时下载需要保留的备份文件到本地。

## 备份说明 {#section_oyj_3k4_ydb .section}

阿里云数据库支持数据备份和日志备份。如要按照时间点恢复数据，需启用日志备份。各类型数据库备份策略如下：

|数据库类型|数据备份|日志备份|
|-----|----|----|
|MySQL| -   MySQL 5.5/5.6/5.7 本地SSD盘：
    -   自动备份支持全量物理备份。
    -   手动备份支持全量物理备份、全量逻辑备份和单库逻辑备份。
-   MySQL 5.7 SSD云盘（高可用版）：

仅支持快照备份，可恢复至新建实例，不支持下载。

-   MySQL 5.7 SSD云盘（基础版）：

仅支持快照备份，可恢复至新建实例，不支持下载。


 | -   Binlog文件会占用实例的磁盘容量。
-   Binlog大小超过500MB或写入超过6小时就会切换到新的Binlog文件继续写入，老的Binlog文件会异步上传。
-   您可以通过一键上传 Binlog功能将 Binlog 文件上传至 OSS，不影响实例的数据恢复功能，Binlog 也不再占用实例磁盘空间。

 **说明：** 

-   基础版暂不支持一键上传Binlog。
-   不支持访问Binlog文件所在的OSS存储空间。

 |
|SQL Server| -   支持全量物理备份和增量物理备份。目前不支持逻辑备份。
-   自动备份以**全量备份-增量备份-增量备份**为周期循环。
    -   如：星期一为全量备份，则星期二和星期三为增量备份，星期四为全量备份，星期五和星期六为增量备份，依次循环。
    -   如果备份周期循环期间执行过手动全量备份，则后续两次将自动执行增量备份。
-   支持单库备份，即可以指定对实例中的单个或多个数据库进行备份。
-   每次备份时SQL Server会收缩事务日志。用户可以在目标实例管理控制台上的备份恢复页面，单击**收缩事物日志**，手动收缩事物日志。

 | -   系统自动生成日志备份（日志文件），您可以设置日志文件的生成频率。

    -   与数据备份频率一致
    -   每30分钟一次
两种频率下，最终生成的日志文件总大小一致。

-   日志备份功能无法关闭。
-   可以设置日志备份的保留时间，范围是7到730天。
-   可以下载日志文件。

 **说明：** 当实例设置**日志备份频率**为**每30分钟**时，在极端情况下（如底层云盘彻底损坏或其它不可抗因素），**SQL Server 基础版**最多能恢复到最近30分钟日志备份的时间点。

 |
|PostgreSQL|支持全量物理备份。|WAL（16MB/个）产生完后立即压缩上传，24小时内删除本地文件。|
|PPAS|支持全量物理备份。|WAL（16MB/个）产生完后立即压缩上传，24小时内删除本地文件。|
|MariaDB|支持快照备份，不支持物理备份和逻辑备份。| -   Binlog文件会占用实例的磁盘容量。
-   Binlog大小超过500MB或写入超过6小时就会切换到新的Binlog文件继续写入，老的Binlog文件会异步上传。
-   您可以通过一键上传 Binlog功能将 Binlog 文件上传至 OSS，不影响实例的数据恢复功能，Binlog 也不再占用实例磁盘空间。

 |

## 设置备份策略实现自动备份 {#section_f33_lk4_ydb .section}

阿里云数据库会执行用户设定的备份策略，自动备份数据库。

1.  登录 [RDS 管理控制台](https://rds.console.aliyun.com)。
2.  在页面左上角，选择实例所在地域。

    ![地域截图](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7882/155201621937169_zh-CN.png)

3.  单击目标实例的ID，进入基本信息页面。
4.  在菜单中选择 **备份恢复**。
5.  在 备份恢复页面中选择 **备份设置**，单击 **编辑**。
6.  在 备份设置页面设置备份规格，单击 **确定**。参数说明如下：

    |参数|说明|
    |--|--|
    |数据备份保留|备份文件可以保留7~730天，默认为7天。**说明：** 基础版的备份文件保存7天，不可修改。

|
    |备份周期|可以设置为一星期中的某一天或者某几天。**说明：** MariaDB TX实例默认每天都进行备份，不可修改。

|
    |备份时间|可以设置为任意时段，以小时为单位，建议设置为业务低峰期时间。|
    |日志备份频率|仅SQL Server支持此参数。    -   与数据备份频率一致
    -   每30分钟一次
两种频率下，最终生成的日志文件总大小一致。

|
    |日志备份保留|     -   日志备份文件保留的天数，默认为 7 天。
    -   可以设置为 7~730 天，且必须小于等于数据备份天数。
 **说明：** 

    -   MySQL 5.7 基础版的日志备份文件保存7天，不可修改。
    -   PostgreSQL 10.0基础版不支持日志备份。
 |


## 手动备份 {#section_yvd_yk4_ydb .section}

**说明：** 

-   本例以MySQL 5.7 本地SSD盘（高可用版）单库逻辑备份为例。
-   RDS for MariaDB TX实例暂不支持手动备份。

1.  登录[RDS管理控制台](https://rds.console.aliyun.com/)。
2.  选择目标实例所在地域。

    ![地域截图](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7882/155201621937169_zh-CN.png)

3.  单击目标实例的 ID，进入基本信息页面。
4.  单击页面右上角的**备份实例**，打开备份实例对话框。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7964/15520162194105_zh-CN.png)

    **说明：** 

    -   备份方式、备份策略：各引擎支持的备份策略不同，请参见[备份说明](intl.zh-CN/用户指南/备份数据/备份 RDS 数据.md#section_oyj_3k4_ydb)。
    -   单库备份时，选择左侧的数据库，单击**\>**将要备份的数据库加入列表。若您还没有数据库，请先[创建数据库](intl.zh-CN/用户指南/数据库管理/创建数据库.md#)。

5.  设置好备份方式、备份策略，单击**确定**。

## 常见问题 {#section_h54_lrx_pgb .section}

1.  RDS的数据备份是否可以关闭？

    答：不可以关闭。可以减少备份频率，一周至少2次。数据备份保留天数最少7天，最多730天。

2.  RDS的日志备份是否可以关闭？

    答：MySQL/PostgreSQL基础版实例和SQL Server实例不可以关闭，其他实例在备份设置内关闭日志备份开关即可。


